<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
    <head>
        <title>TODO supply a title</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <script src="js/jquery-1.10.2.js"></script>
    </head>
    <body>
        <h2>Empleado</h2>
        <fieldset>
            <legend>Crear</legend>
            <form id="empleado_crear">
                <label for="empleado_crear_nombre">Nombre:</label>
                <input id="empleado_crear_nombre" type="text" />
                
                <label for="empleado_crear_apellido">Apellido:</label>
                <input id="empleado_crear_apellido" type="text" />
                
                <label for="empleado_crear_cedula">Cédula:</label>
                <input id="empleado_crear_cedula" type="number" />
                
                <label for="empleado_crear_cargo">Cargo:</label>
                <select id="empleado_crear_cargo">
                    <option value="administrador">Administrador</option>
                    <option value="extrusor">Extrusor</option>
                    <option value="impresor">Impresor</option>
                    <option value="sellador">Sellador</option>
                </select>
                
                <label for="empleado_crear_contraseña">Contraseña:</label>
                <input id="empleado_crear_contraseña" type="password"/>
                
                <input type="submit" />
            </form>
        </fieldset>
        
        <fieldset>
            <legend>Buscar</legend>
            <form id="empleado_buscar">
                <label for="empleado_buscar_buscarCon">BuscarCon:</label>
                <select id="empleado_buscar_buscarCon">
                    <option value="cedula">Cédula</option>
                    <option value="nombre">Nombre</option>
                    <option value="apellido">Apellido</option>
                    <option value="cargo">Cargo</option>
                </select>
                
                <label for="empleado_buscar_valor">Valor:</label>
                <input id="empleado_buscar_valor" type="text" />
                
                <input type="submit" />
            </form>
        </fieldset>
        
        <script>
            (function(){
                var _llave = "1012";
                
                window.onload = function(){
                    this._empleado_crear = $("#empleado_crear");
                    this._empleado_buscar = $("#empleado_buscar");
                    
                    this._empleado_crear.submit(empleado_crear);
                    this._empleado_buscar.submit(empleado_buscar);
                };
                
                function empleado_crear(e){
                    //e.preventdefault();
                    
                    var _nombre = $("#empleado_crear_nombre");
                    var _apellido = $("#empleado_crear_apellido");
                    var _cedula = $("#empleado_crear_cedula");
                    var _cargo = $("#empleado_crear_cargo");
                    var _contraseña = $("#empleado_crear_contraseña");
                    
                    /*console.log(_nombre.val());
                    console.log(_apellido.val());
                    console.log(_cedula.val());
                    console.log(_cargo.val());
                    console.log(_contraseña.val());*/
                    
                    $.ajax({
                        url : "rest/empleado",
                        type: 'POST',
                        data: {
                            llave : _llave,
                            cedula : _cedula.val(),
                            nombre : _nombre.val(),
                            apellido : _apellido.val(),
                            cargo : _cargo.val(),
                            contrasenna : _contraseña.val()
                        }
                    }).done(function(r){
                        console.log(r);
                    }).fail(function(r){
                        console.log(r);
                    });
        
                    return false;
                }
                
                function empleado_buscar(e){
                    var _buscarCon = $("#empleado_buscar_buscarCon");
                    var _valor = $("#empleado_buscar_valor");
                    
                    $.ajax({
                        url : "rest/empleado",
                        type: 'GET',
                        data: {
                            llave : _llave,
                            buscarCon : _buscarCon.val(),
                            valor : _valor.val()
                        }
                    }).done(function(r){
                        console.log(r);
                    }).fail(function(r){
                        console.log(r);
                    });
                    
                    return false;
                }
            })();
        </script>
    </body>
</html>
